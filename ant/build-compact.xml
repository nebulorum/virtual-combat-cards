<?xml version="1.0" encoding="UTF-8"?>
<project name="VCC" default="dist" basedir="..">

  <property name="build"  value="bin"/>
  <property name="version" value="0.92" />
  <property name="distbase" value="dist" />
  <property name="dist" value="${distbase}/vcc" />
  <property name="scalajar" value="${distbase}/scalalib" />
  <property name="jar.file1" value="${dist}/bin/vcc.jar" />
    

  <target name="build" >
	<mkdir dir="${dist}"/>
	<mkdir dir="${dist}/bin"/>
  	
  	<jar jarfile="${jar.file1}" 
  		basedir="${build}"
  		excludes="test/*"
  	/>
        
    <fileset id="jars2pack" dir="${dist}">
        <include name="*.jar"/>
    </fileset>
  	<copy todir="${dist}/bin">
  		<fileset dir="${scalajar}"/>
  	</copy>
  	<copy todir="${dist}">
  	    <fileset dir="scripts"/>
  	    <fileset dir="sample"/>
  	</copy>
  </target>
  <target name="dist" depends="build">
  	<zip destfile="${dist}-${version}.zip" basedir="${distbase}" includes="vcc/**"></zip>
	</target>
  <target name="dist-patch" depends="build">
  	<zip destfile="${dist}-${version}.zip" basedir="${distbase}" includes="vcc/bin/vcc.jar"></zip>
	</target>
	<target name="clean">
  	<deltree dir="${dist}"/>
  </target>
</project>